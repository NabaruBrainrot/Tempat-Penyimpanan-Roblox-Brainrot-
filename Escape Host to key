pcall(function()
    game:GetService("CoreGui"):FindFirstChild("PersistentToggleGui"):Destroy()
    game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("PremiumDeliveryGUI"):Destroy()
end)

local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- ================= FLOAT BUTTON =================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "PersistentToggleGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = CoreGui

local toggleImageBtn = Instance.new("ImageButton")
toggleImageBtn.Name = "HoverButton"
toggleImageBtn.Size = UDim2.new(0, 55, 0, 55)
toggleImageBtn.Position = UDim2.new(0, 10, 0.2, 0)
toggleImageBtn.Image = "rbxassetid://116189732890823"
toggleImageBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
toggleImageBtn.BackgroundTransparency = 0.7
toggleImageBtn.Active = true
toggleImageBtn.Draggable = true
toggleImageBtn.Parent = ScreenGui

Instance.new("UICorner", toggleImageBtn).CornerRadius = UDim.new(0, 9)

local stroke = Instance.new("UIStroke", toggleImageBtn)
stroke.Thickness = 3
stroke.Color = Color3.fromRGB(255, 255, 255)
stroke.Transparency = 0.5
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

toggleImageBtn.MouseEnter:Connect(function()
    TweenService:Create(toggleImageBtn, TweenInfo.new(0.15), {
        Size = UDim2.new(0, 60, 0, 60)
    }):Play()
end)

toggleImageBtn.MouseLeave:Connect(function()
    TweenService:Create(toggleImageBtn, TweenInfo.new(0.15), {
        Size = UDim2.new(0, 55, 0, 55)
    }):Play()
end)

-- ================= OPEN / CLOSE TARGET =================
local targetCanvasGroup
local isOpen = false

local function tryFindTarget()
    local sg = CoreGui:FindFirstChild("ScreenGui")
    if not sg then return end
    local children = sg:GetChildren()
    if not children[2] then return end
    targetCanvasGroup = children[2]
end

task.spawn(function()
    while true do
        if not targetCanvasGroup or not targetCanvasGroup.Parent then
            tryFindTarget()
        end
        task.wait(0.3)
    end
end)

toggleImageBtn.MouseButton1Click:Connect(function()
    if not targetCanvasGroup then return end
    isOpen = not isOpen
    targetCanvasGroup.Visible = isOpen
    targetCanvasGroup.GroupTransparency = isOpen and 0 or 1
    targetCanvasGroup.Active = isOpen
    targetCanvasGroup.Interactable = isOpen
end)

-- ================= LOAD OSAKA =================
pcall(function()
    loadstring(game:HttpGet(
        loadstring(game:HttpGet(
            "https://raw.githubusercontent.com/osakaTP2/OsakaTP2/main/Escape%20tsunamiV3.5"
        ))()
    ))()
end)